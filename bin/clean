#!/bin/sh

readonly JOBS="12"
QMAKE_OPTS=""
MAKE_OPTS="-j${JOBS} -Q -s"

if [ "$(uname)" = "Darwin" ]; then
    MAKE_OPTS="-j${JOBS} --silent"
    QMAKE_OPTS="-spec darwin-g++"
    for i in Notifications TestSS Panel TheSS WAD CoreginxHelper DeathWatch; do
        qmake ${QMAKE_OPTS} ${i}.pro
        make ${MAKE_OPTS} distclean
    done
else
    for i in Notifications TestSS Panel TheSS WAD CoreginxHelper DeathWatch; do
        qmake ${QMAKE_OPTS} ${i}.pro
        make ${MAKE_OPTS} distclean
    done
fi

rm -fv src/*.a
