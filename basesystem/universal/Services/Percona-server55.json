{
    "softwareName": "Percona-server55",
    "watchPort": true,
    "staticPort": 3306,
    "watchSocket": "/tmp/mysql.sock",
    // "schedulers": [
    //     "0 9,21 * * * ?! do_mysql_all_dbs_sql_dump"
    // ],
    "install": {
        "commands": "sofin get Percona-server55",
        "expectOutput": "All done"
    },
    "start": {
        "commands": " \
printf 'Launching Percona-server55\n' >> SERVICE_LOG \
test -L SERVICE_SOCK || ln -s /tmp/mysql.sock SERVICE_SOCK \
SERVICE_ROOT/exports/mysqld --defaults-file=SERVICE_CONF --skip-grant-tables -C utf8 > SERVICE_LOG 2>&1 & \
"
    },
    "validate": {
        "commands": " \
test ! -d SERVICE_PREFIX/tmp && mkdir -p SERVICE_PREFIX/tmp && chmod 700 SERVICE_PREFIX/tmp \
test ! -d SERVICE_PREFIX/database && mkdir -p SERVICE_PREFIX/database && chmod 700 SERVICE_PREFIX/database \
test ! -f SERVICE_CONF && printf \" \
[mysqld_safe] \
socket = /tmp/mysql.sock \
nice = 0 \
 \
[client] \
socket=/tmp/mysql.sock \
 \
[mysqld] \
pid-file = SERVICE_PID \
basedir = SERVICE_ROOT \
port = SERVICE_PORT \
datadir = SERVICE_PREFIX/database \
tmpdir = SERVICE_PREFIX/tmp \
language = SERVICE_ROOT/share/english \
skip-external-locking \
bind-address = SERVICE_DOMAIN \
key_buffer = 16M \
max_allowed_packet = 16M \
thread_stack = 128K \
thread_cache_size = 8 \
myisam-recover = BACKUP \
max_connections = 20 \
thread_concurrency = 10 \
query_cache_limit = 1M \
query_cache_size = 16M \
general-log-file = SERVICE_LOG \
expire_logs_days = 10 \
max_binlog_size = 100M \
socket = /tmp/mysql.sock \
 \
# replication setup: \
log-bin=mysql-bin \
server-id=1 \
innodb_flush_log_at_trx_commit=1 \
sync_binlog=1 \
 \
[mysqldump] \
quick \
quote-names \
max_allowed_packet = 16M \
 \
[mysql] \
#no-auto-rehash # faster start of mysql but no tab completition \
 \
[isamchk] \
key_buffer = 16M \
\" > SERVICE_CONF \
"
    }
}
